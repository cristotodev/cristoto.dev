---
import { getCollection } from "astro:content";
import BaseLayout from "@/layouts/Base.astro";
import PostPreview from "@/components/blog/PostPreview.astro";
import { siteConfig } from "@/site.config";
import { collectionDateSort } from "@/utils/date";

const title = "Gu√≠a Completa de SQL en Espa√±ol";
const description = "Aprende SQL desde cero con tutoriales pr√°cticos en espa√±ol. Bases de datos relacionales, consultas avanzadas, JOINs, subconsultas y mejores pr√°cticas para desarrolladores.";

// Get all SQL posts
const allPosts = await getCollection("post");
const sqlPosts = allPosts.filter(post => post.id.startsWith('sql/')).sort(collectionDateSort);

const meta = {
  title: `${title} ‚Ä¢ ${siteConfig.title}`,
  description,
  category: "sql",
  tags: ["sql", "bases de datos", "tutorial", "programaci√≥n"]
};
---

<BaseLayout meta={meta}>
  <div class="container mx-auto px-4">
    
    <!-- Hero Section -->
    <header class="py-12 text-center">
      <h1 class="text-4xl md:text-5xl font-bold text-accent-base mb-6">
        üóÑÔ∏è Gu√≠a Completa de SQL
      </h1>
      <p class="text-xl text-light/80 max-w-3xl mx-auto leading-relaxed">
        Aprende <strong>SQL desde cero</strong> con tutoriales pr√°cticos en espa√±ol. 
        Desde conceptos b√°sicos hasta consultas avanzadas, convi√©rtete en un experto 
        en bases de datos relacionales.
      </p>
    </header>

    <!-- Learning Path -->
    <section class="mb-12">
      <h2 class="text-2xl font-semibold text-accent-base mb-6 flex items-center gap-2">
        üéØ Ruta de Aprendizaje Recomendada
      </h2>
      
      <div class="grid md:grid-cols-3 gap-6">
        <!-- Fundamentos -->
        <div class="bg-special-lighter border border-special-light rounded-lg p-6">
          <h3 class="text-lg font-semibold text-accent-base mb-3">
            üèóÔ∏è Fundamentos
          </h3>
          <ul class="space-y-2 text-light/80">
            <li>‚Ä¢ Bases de datos relacionales</li>
            <li>‚Ä¢ Creaci√≥n de bases y tablas</li>
            <li>‚Ä¢ Claves primarias y for√°neas</li>
            <li>‚Ä¢ Insertar y gestionar datos</li>
          </ul>
        </div>

        <!-- Consultas -->
        <div class="bg-special-lighter border border-special-light rounded-lg p-6">
          <h3 class="text-lg font-semibold text-accent-base mb-3">
            üîç Consultas
          </h3>
          <ul class="space-y-2 text-light/80">
            <li>‚Ä¢ SELECT y filtros b√°sicos</li>
            <li>‚Ä¢ ALIAS y DISTINCT</li>
            <li>‚Ä¢ Ordenaci√≥n y paginaci√≥n</li>
            <li>‚Ä¢ Actualizar y eliminar datos</li>
          </ul>
        </div>

        <!-- Avanzado -->
        <div class="bg-special-lighter border border-special-light rounded-lg p-6">
          <h3 class="text-lg font-semibold text-accent-base mb-3">
            üöÄ Nivel Avanzado
          </h3>
          <ul class="space-y-2 text-light/80">
            <li>‚Ä¢ JOINs y relaciones</li>
            <li>‚Ä¢ Subconsultas complejas</li>
            <li>‚Ä¢ Usuarios y permisos</li>
            <li>‚Ä¢ Optimizaci√≥n de consultas</li>
          </ul>
        </div>
      </div>
    </section>

    <!-- Quick Reference -->
    <section class="mb-12 bg-special-lighter border border-special-light rounded-lg p-8">
      <h2 class="text-2xl font-semibold text-accent-base mb-6">
        ‚ö° Referencia R√°pida SQL
      </h2>
      
      <div class="grid md:grid-cols-2 gap-8">
        <div>
          <h3 class="text-lg font-semibold mb-4 text-accent-base">Consultas B√°sicas</h3>
          <div class="bg-bgColor rounded-lg p-4 font-mono text-sm">
            <div class="mb-2"><span class="text-accent-two">SELECT</span> * <span class="text-accent-two">FROM</span> tabla;</div>
            <div class="mb-2"><span class="text-accent-two">SELECT</span> columna <span class="text-accent-two">FROM</span> tabla <span class="text-accent-two">WHERE</span> condicion;</div>
            <div><span class="text-accent-two">INSERT INTO</span> tabla <span class="text-accent-two">VALUES</span> (valores);</div>
          </div>
        </div>
        
        <div>
          <h3 class="text-lg font-semibold mb-4 text-accent-base">JOINs Esenciales</h3>
          <div class="bg-bgColor rounded-lg p-4 font-mono text-sm">
            <div class="mb-2"><span class="text-accent-two">INNER JOIN</span> - Solo coincidencias</div>
            <div class="mb-2"><span class="text-accent-two">LEFT JOIN</span> - Todos de la izquierda</div>
            <div><span class="text-accent-two">RIGHT JOIN</span> - Todos de la derecha</div>
          </div>
        </div>
      </div>
    </section>

    <!-- Tutorials List -->
    <section class="mb-12">
      <div class="flex items-center justify-between mb-8">
        <h2 class="text-2xl font-semibold text-accent-base">
          üìö Todos los Tutoriales SQL
        </h2>
        <span class="bg-accent-base/10 text-accent-base px-3 py-1 rounded-full text-sm font-medium">
          {sqlPosts.length} tutoriales
        </span>
      </div>

      {sqlPosts.length === 0 ? (
        <p class="text-light/60">Pr√≥ximamente m√°s tutoriales de SQL...</p>
      ) : (
        <div class="grid gap-6">
          {sqlPosts.map((post) => (
            <PostPreview post={post} withDesc={true} />
          ))}
        </div>
      )}
    </section>

    <!-- FAQ Section -->
    <section class="mb-12 bg-special-lighter border border-special-light rounded-lg p-8">
      <h2 class="text-2xl font-semibold text-accent-base mb-8">
        ‚ùì Preguntas Frecuentes sobre SQL
      </h2>
      
      <div class="space-y-6">
        <div>
          <h3 class="text-lg font-semibold mb-2 text-accent-base">¬øQu√© es SQL y por qu√© es importante?</h3>
          <p class="text-light/80">
            SQL (Structured Query Language) es el lenguaje est√°ndar para gestionar bases de datos relacionales. 
            Es fundamental para cualquier desarrollador, ya que te permite crear, consultar, actualizar y administrar 
            datos de manera eficiente. Pr√°cticamente todas las aplicaciones modernas utilizan bases de datos.
          </p>
        </div>

        <div>
          <h3 class="text-lg font-semibold mb-2 text-accent-base">¬øCu√°nto tiempo se tarda en aprender SQL?</h3>
          <p class="text-light/80">
            Los conceptos b√°sicos de SQL se pueden aprender en 2-4 semanas con pr√°ctica constante. 
            Para dominar consultas avanzadas, JOINs complejos y optimizaci√≥n, necesitar√°s 2-3 meses adicionales. 
            La clave est√° en la pr√°ctica con bases de datos reales.
          </p>
        </div>

        <div>
          <h3 class="text-lg font-semibold mb-2 text-accent-base">¬øQu√© base de datos usar para practicar?</h3>
          <p class="text-light/80">
            Recomiendo comenzar con <strong>MySQL</strong> o <strong>PostgreSQL</strong> para aprender. 
            Son bases de datos gratuitas, ampliamente utilizadas en la industria y tienen excelente documentaci√≥n. 
            Los conceptos se aplican a otras bases como SQL Server, Oracle o SQLite.
          </p>
        </div>

        <div>
          <h3 class="text-lg font-semibold mb-2 text-accent-base">¬øLos tutoriales incluyen ejercicios pr√°cticos?</h3>
          <p class="text-light/80">
            S√≠, cada tutorial incluye ejemplos de c√≥digo pr√°cticos que puedes ejecutar inmediatamente. 
            Aprender√°s creando bases de datos reales, insertando datos y ejecutando consultas paso a paso. 
            La teor√≠a siempre va acompa√±ada de pr√°ctica.
          </p>
        </div>
      </div>
    </section>

    <!-- Call to Action -->
    <section class="text-center py-12">
      <h2 class="text-2xl font-semibold text-accent-base mb-4">
        üöÄ ¬øListo para dominar SQL?
      </h2>
      <p class="text-lg text-light/80 mb-6 max-w-2xl mx-auto">
        Comienza con nuestro tutorial de <strong>bases de datos relacionales</strong> 
        y avanza paso a paso hasta convertirte en un experto en SQL.
      </p>
      <a 
        href="/posts/sql/base-de-datos-relacional/" 
        class="inline-flex items-center gap-2 bg-accent-base text-white px-6 py-3 rounded-lg font-medium hover:bg-accent-base/90 transition-colors"
      >
        üìñ Empezar Tutorial
      </a>
    </section>

  </div>
</BaseLayout>

<!-- FAQ Schema -->
<script type="application/ld+json" set:html={JSON.stringify({
  "@context": "https://schema.org",
  "@type": "FAQPage",
  "mainEntity": [
    {
      "@type": "Question",
      "name": "¬øQu√© es SQL y por qu√© es importante?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "SQL (Structured Query Language) es el lenguaje est√°ndar para gestionar bases de datos relacionales. Es fundamental para cualquier desarrollador, ya que te permite crear, consultar, actualizar y administrar datos de manera eficiente."
      }
    },
    {
      "@type": "Question", 
      "name": "¬øCu√°nto tiempo se tarda en aprender SQL?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "Los conceptos b√°sicos de SQL se pueden aprender en 2-4 semanas con pr√°ctica constante. Para dominar consultas avanzadas, JOINs complejos y optimizaci√≥n, necesitar√°s 2-3 meses adicionales."
      }
    },
    {
      "@type": "Question",
      "name": "¬øQu√© base de datos usar para practicar?", 
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "Recomiendo comenzar con MySQL o PostgreSQL para aprender. Son bases de datos gratuitas, ampliamente utilizadas en la industria y tienen excelente documentaci√≥n."
      }
    }
  ]
}, null, 0)} />

<!-- Course Schema -->
<script type="application/ld+json" set:html={JSON.stringify({
  "@context": "https://schema.org",
  "@type": "Course",
  "name": "Gu√≠a Completa de SQL en Espa√±ol",
  "description": "Aprende SQL desde cero con tutoriales pr√°cticos en espa√±ol. Bases de datos relacionales, consultas avanzadas, JOINs y subconsultas.",
  "provider": {
    "@type": "Organization",
    "name": "Cristotodev",
    "url": "https://cristoto.dev"
  },
  "educationalLevel": "Beginner to Advanced",
  "courseMode": "online",
  "inLanguage": "es",
  "teaches": [
    "Bases de datos relacionales",
    "Consultas SQL",
    "JOINs y relaciones",
    "Subconsultas",
    "Optimizaci√≥n de bases de datos"
  ]
}, null, 0)} />